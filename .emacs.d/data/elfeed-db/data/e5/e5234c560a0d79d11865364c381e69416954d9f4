<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Docker-Android">Docker-Android</h2><h3 id="简介">简介</h3><p>Docker-Android 是一个 docker 映像，用于与 Android 相关的所有内容。可以使用 noVNC 和 adb 链接到虚拟机中，它可用于应用程序开发和测试(本机、Web 和混合应用程序)。</p><blockquote><p>注：运行平台只能是 Ubuntu。</p></blockquote><h3 id="使用方式">使用方式</h3><p>使用如下命令监测 KVM 是否开启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt install cpu-checker<br>kvm-ok<br></code></pre></td></tr></table></figure><p>若输出字样如下则证明功能正常：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">INFO: /dev/kvm exists<br>KVM acceleration can be used<br></code></pre></td></tr></table></figure><p>编写如下 <code>docker-compose.yaml</code> :</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;3.8&#x27;</span><br><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">android-container:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">budtmo/docker-android:emulator_14.0</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">android-container</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;6080:6080&quot;</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">EMULATOR_DEVICE=Samsung</span> <span class="hljs-string">Galaxy</span> <span class="hljs-string">S10</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">WEB_VNC=true</span><br>    <span class="hljs-attr">devices:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/dev/kvm</span><br></code></pre></td></tr></table></figure><h3 id="参考资料">参考资料</h3><p><a href="https://github.com/budtmo/docker-android">官方项目</a></p><p><a href="https://hub.docker.com/r/budtmo/docker-android/tags">容器清单</a></p><p><a href="https://juejin.cn/post/7162415019332730917">在Docker中安装安卓11、12+Appium【web端android】</a></p>