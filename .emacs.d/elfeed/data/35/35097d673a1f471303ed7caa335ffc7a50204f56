<p data-pid="AyqnCQZ5">在前面的基础上：</p><a href="https://zhuanlan.zhihu.com/p/398812528" data-draft-node="block" data-draft-type="link-card" class="internal">迦非喵：Makefile从入门到精通（13） ifeq、ifneq、ifdef和ifndef（条件判断）</a><p data-pid="9JKTJNR7">这里继续重构：</p><p data-pid="5xWuxK3e">参考：</p><a href="https://stackoverflow.com/questions/714100/os-detecting-makefile" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">stackoverflow.com/quest</span><span class="invisible">ions/714100/os-detecting-makefile</span><span class="ellipsis"></span></a><p data-pid="cy4yq8bF">Makefile</p><div class="highlight"><pre><code class="language-make"><span class="err">ifeq</span> <span class="err">(</span><span class="k">$(</span><span class="nv">OS</span><span class="k">)</span><span class="err">,Windows_NT)</span>
    <span class="nv">uname_S</span> <span class="o">:=</span> Windows
<span class="err">else</span>
    <span class="nv">uname_S</span> <span class="o">:=</span> <span class="k">$(</span>shell uname -s<span class="k">)</span>
<span class="err">endif</span>

<span class="k">$(</span><span class="nv">info</span> <span class="k">$$</span><span class="nv">uname_S</span> <span class="nv">is</span> [<span class="k">$</span>{<span class="nv">uname_S</span>}]<span class="k">)</span>
</code></pre></div><p data-pid="1sJith3L">windows11+powershell</p><div class="highlight"><pre><code class="language-text">PS D:\work\makefile_work\ModernMakefile\codes\os\02&gt; $env:path += ";c:/dev/Strawberry/c/bin/"
PS D:\work\makefile_work\ModernMakefile\codes\os\02&gt; gmake
$uname_S is [Windows]
gmake: *** No targets.  Stop.</code></pre></div><p data-pid="3jqw44t3">ubuntu20.04</p><div class="highlight"><pre><code class="language-text">eric@eric-virtual-machine:~/work/makefile_work/ModernMakefile/codes/os/02$ make
$uname_S is [Linux]
make: *** No targets.  Stop.</code></pre></div><p data-pid="PcZU3YLr">代码上传至：</p><a href="https://github.com/eric2003/ModernMakefile/tree/main/codes/os/02" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/eric2003/Mod</span><span class="invisible">ernMakefile/tree/main/codes/os/02</span><span class="ellipsis"></span></a><p data-pid="D21K0BYe">为便于检索，文章收录于：</p><a href="https://zhuanlan.zhihu.com/p/398677004" data-draft-node="block" data-draft-type="link-card" class="internal">迦非喵：Makefile从入门到精通系列链接整理</a><p></p>